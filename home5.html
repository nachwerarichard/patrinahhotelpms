<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Management System</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* General Styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        header {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            margin: 0;
            font-size: 1.8em;
            letter-spacing: 1px;
        }

        /* Sidebar (Aside) */
        aside {
            background-color: #34495e;
            color: #ecf0f1;
            width: 250px;
            padding-top: 80px; /* Space for fixed header */
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            position: sticky;
            top: 0;
            height: 100vh;
        }

        aside nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        aside nav ul li {
            margin-bottom: 5px;
        }

        aside nav ul li a {
            display: block;
            padding: 15px 20px;
            color: #ecf0f1;
            text-decoration: none;
            font-size: 1.1em;
            transition: background-color 0.3s ease, transform 0.2s ease;
            border-radius: 8px;
            margin: 0 10px;
        }

        aside nav ul li a:hover,
        aside nav ul li a.active {
            background-color: #2c3e50;
            transform: translateX(5px);
        }

        .logout-button {
            margin-top: auto; /* Pushes the logout button to the bottom */
            padding: 20px;
        }

        .logout-button button {
            width: 100%;
            padding: 12px 20px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .logout-button button:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }

        /* Main Content Area */
        .app-container {
            display: flex;
            flex-grow: 1;
            min-height: 100vh; /* Ensure app container takes full height */
        }

        main {
            flex-grow: 1;
            padding: 80px 20px 20px 20px; /* Space for fixed header */
            background-color: #f4f7f6;
            overflow-y: auto;
        }

        .section {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            display: none; /* Hidden by default */
        }

        .section.active {
            display: block;
        }

        h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 2em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            display: inline-block;
        }

        /* Common Button Styles */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-right: 10px;
        }

        .btn-primary {
            background-color: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .btn-success {
            background-color: #2ecc71;
            color: white;
        }

        .btn-success:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .btn-danger {
            background-color: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .btn-info {
            background-color: #f39c12;
            color: white;
        }

        .btn-info:hover {
            background-color: #e67e22;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        /* Search and Add Button Area */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-grow: 1;
            max-width: 400px;
        }

        .search-container input[type="text"] {
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1em;
            flex-grow: 1;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        /* Table Styling */
        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #ffffff;
            min-width: 800px; /* Ensure table doesn't get too small on mobile */
        }

        table thead {
            background-color: #3498db;
            color: white;
        }

        table th,
        table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        table th {
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
        }

        table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        table tbody tr:hover {
            background-color: #f1f1f1;
        }

        table td .action-buttons {
            display: flex;
            gap: 5px;
        }

        table td .action-buttons .btn {
            padding: 6px 10px;
            font-size: 0.85em;
            margin-right: 0; /* Override default margin */
        }

        /* Modal Styling */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 2000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0, 0, 0, 0.6); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
            padding-top: 60px; /* For header */
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 700px;
            position: relative;
            transform: translateY(-50px);
            opacity: 0;
            animation: fadeInModal 0.3s forwards;
        }

        @keyframes fadeInModal {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close-button {
            color: #aaa;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-button:hover,
        .close-button:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-content h3 {
            margin-top: 0;
            color: #2c3e50;
            font-size: 1.8em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .modal-form .form-group {
            margin-bottom: 15px;
        }

        .modal-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .modal-form input[type="text"],
        .modal-form input[type="number"],
        .modal-form input[type="date"],
        .modal-form select,
        .login-form input[type="text"],
        .login-form input[type="password"] {
            width: calc(100% - 22px); /* Account for padding and border */
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: border-color 0.3s ease;
        }

        .modal-form input[type="text"]:focus,
        .modal-form input[type="number"]:focus,
        .modal-form input[type="date"]:focus,
        .modal-form select:focus,
        .login-form input[type="text"]:focus,
        .login-form input[type="password"]:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .modal-form .form-actions {
            margin-top: 25px;
            text-align: right;
        }

        .modal-form .form-actions .btn {
            margin-left: 10px;
        }

        /* Reports Section Specific Styles */
        .reports-controls {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .reports-controls input[type="date"] {
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1em;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .report-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .report-card {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .report-card:hover {
            transform: translateY(-5px);
        }

        .report-card h4 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .report-card p {
            font-size: 1.8em;
            font-weight: 700;
            color: #3498db;
            margin: 0;
        }

        /* Housekeeping Section Specific Styles */
        .room-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }

        .room-card {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .room-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .room-card h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: #2c3e50;
            font-size: 1.3em;
        }

        .room-card p {
            margin-bottom: 15px;
            font-size: 1em;
            color: #666;
        }

        .room-card .status {
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 6px;
            display: inline-block;
            margin-bottom: 15px;
        }

        .status-clean {
            background-color: #d4edda;
            color: #28a745;
        }

        .status-dirty {
            background-color: #f8d7da;
            color: #dc3545;
        }

        .status-maintenance {
            background-color: #fff3cd;
            color: #ffc107;
        }

        .room-card select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 0.95em;
            cursor: pointer;
            background-color: #f9f9f9;
            transition: border-color 0.3s ease;
        }

        .room-card select:focus {
            border-color: #3498db;
            outline: none;
        }

        /* Message Box */
        .message-box {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 3000;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
            text-align: center;
            animation: fadeInMessageBox 0.3s forwards;
            max-width: 400px;
            width: 90%;
        }

        @keyframes fadeInMessageBox {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        .message-box h4 {
            margin-top: 0;
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .message-box p {
            margin-bottom: 20px;
            color: #555;
        }

        .message-box .btn {
            padding: 10px 25px;
        }

        /* Login Page Styles */
        .login-page {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            width: 100%;
            background-color: #e0e7eb;
        }

        .login-container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .login-container h2 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.2em;
            border-bottom: none; /* Override section h2 style */
            padding-bottom: 0;
        }

        .login-form .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .login-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .login-form button {
            width: 100%;
            padding: 12px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .login-form button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }

        .login-error {
            color: #e74c3c;
            margin-top: 15px;
            font-size: 0.9em;
            display: none;
        }


        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }

            header {
                position: static;
                width: auto;
                border-radius: 0;
            }

            aside {
                width: 100%;
                padding-top: 0;
                height: auto;
                position: static;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }

            aside nav ul {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                padding: 10px 0;
            }

            aside nav ul li {
                margin: 5px;
            }

            aside nav ul li a {
                padding: 10px 15px;
                font-size: 1em;
                margin: 0;
            }

            .logout-button {
                padding: 10px 20px;
                margin-top: 0;
            }

            main {
                padding: 20px;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-container {
                width: 100%;
                max-width: none;
            }

            .btn-add-booking {
                width: 100%;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }

            table th, table td {
                padding: 8px 10px;
                font-size: 0.9em;
            }

            .table-container {
                overflow-x: auto; /* Ensure horizontal scroll for tables on small screens */
            }

            .report-summary {
                grid-template-columns: 1fr;
            }

            .room-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-container">
            <h2>Hotel Management Login</h2>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit">Login</button>
                <p id="loginError" class="login-error">Invalid username or password.</p>
            </form>
        </div>
    </div>

    <!-- Main Application Container (Hidden by default) -->
    <div id="appContainer" class="app-container" style="display: none;">
        <header>
            <h1>Hotel Management</h1>
            <!-- User role display can be added here if desired, e.g., <span id="loggedInUserRole"></span> -->
        </header>

        <aside>
            <nav>
                <ul>
                    <li><a href="#" id="nav-booking" class="active">Booking Management</a></li>
                    <li><a href="#" id="nav-reports">Reports</a></li>
                    <li><a href="#" id="nav-housekeeping">Housekeeping</a></li>
                </ul>
            </nav>
            <div class="logout-button">
                <button id="logoutBtn">Logout</button>
            </div>
        </aside>

        <main>
            <!-- Booking Management Section -->
            <section id="booking-management" class="section active">
                <h2>Booking Management</h2>
                <div class="controls">
                    <div class="search-container">
                        <input type="text" id="bookingSearch" placeholder="Search by Name, Room, ID...">
                        <button class="btn btn-primary" onclick="filterBookings()">Search</button>
                    </div>
                    <button class="btn btn-primary btn-add-booking" onclick="openBookingModal()">Add New Booking</button>
                </div>

                <div class="table-container">
                    <table id="bookingsTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Room</th>
                                <th>Check-in</th>
                                <th>Check-out</th>
                                <th>Nights</th>
                                <th>Amt/Night</th>
                                <th>Total Due</th>
                                <th>Amount Paid</th>
                                <th>Balance</th>
                                <th>Payment Status</th>
                                <th>People</th>
                                <th>Nationality</th>
                                <th>Address</th>
                                <th>Phone No.</th>
                                <th>National ID No.</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Booking rows will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="section">
                <h2>Reports</h2>
                <div class="reports-controls">
                    <label for="reportDate">Select Date:</label>
                    <input type="date" id="reportDate">
                    <button class="btn btn-primary" onclick="generateReport()">Generate Report</button>
                </div>

                <div class="report-summary">
                    <div class="report-card">
                        <h4>Total Amount for Selected Date</h4>
                        <p id="totalAmountReport">0.00</p>
                    </div>
                    <div class="report-card">
                        <h4>Total Balance for Selected Date</h4>
                        <p id="totalBalanceReport">0.00</p>
                    </div>
                    <div class="report-card">
                        <h4>Most Booked Room Type</h4>
                        <p id="mostBookedRoomType">N/A</p>
                    </div>
                    <div class="report-card">
                        <h4>Guests Checked In</h4>
                        <p id="guestsCheckedIn">0</p>
                    </div>
                </div>
            </section>

            <!-- Housekeeping Section -->
            <section id="housekeeping" class="section">
                <h2>Housekeeping</h2>
                <div class="room-grid" id="housekeepingRoomGrid">
                    <!-- Room cards will be inserted here by JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- Booking/Edit Modal -->
    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeBookingModal()">&times;</span>
            <h3 id="modalTitle">Add New Booking</h3>
            <form id="bookingForm" class="modal-form">
                <input type="hidden" id="bookingId">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="room">Room:</label>
                    <select id="room" required>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="checkIn">Check-in Date:</label>
                    <input type="date" id="checkIn" required>
                </div>
                <div class="form-group">
                    <label for="checkOut">Check-out Date:</label>
                    <input type="date" id="checkOut" required>
                </div>
                <div class="form-group">
                    <label for="nights">Nights:</label>
                    <input type="number" id="nights" readonly>
                </div>
                <div class="form-group">
                    <label for="amtPerNight">Amount/Night:</label>
                    <input type="number" id="amtPerNight" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="totalDue">Total Due:</label>
                    <input type="number" id="totalDue" step="0.01" readonly>
                </div>
                <div class="form-group">
                    <label for="amountPaid">Amount Paid:</label>
                    <input type="number" id="amountPaid" step="0.01" value="0" required>
                </div>
                <div class="form-group">
                    <label for="balance">Balance:</label>
                    <input type="number" id="balance" step="0.01" readonly>
                </div>
                <div class="form-group">
                    <label for="paymentStatus">Payment Status:</label>
                    <select id="paymentStatus" required>
                        <option value="Pending">Pending</option>
                        <option value="Paid">Paid</option>
                        <option value="Partially Paid">Partially Paid</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="people">Number of People:</label>
                    <input type="number" id="people" min="1" value="1" required>
                </div>
                <div class="form-group">
                    <label for="nationality">Nationality:</label>
                    <input type="text" id="nationality">
                </div>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" id="address">
                </div>
                <div class="form-group">
                    <label for="phoneNo">Phone No.:</label>
                    <input type="text" id="phoneNo">
                </div>
                <div class="form-group">
                    <label for="nationalIdNo">National ID No.:</label>
                    <input type="text" id="nationalIdNo">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-danger" onclick="closeBookingModal()">Cancel</button>
                    <button type="submit" class="btn btn-success">Save Booking</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Message Box -->
    <div id="messageBox" class="message-box">
        <h4 id="messageBoxTitle"></h4>
        <p id="messageBoxContent"></p>
        <button class="btn btn-primary" onclick="closeMessageBox()">OK</button>
    </div>

    <script>
        // --- Data Simulation (In lieu of Backend) ---
        let rooms = [
            { id: '101', type: 'Delux 1', number: '101', status: 'clean' },
            { id: '102', type: 'Delux 1', number: '102', status: 'clean' },
            { id: '103', type: 'Delux 1', number: '103', status: 'clean' },
            { id: '104', type: 'Delux 2', number: '104', status: 'clean' },
            { id: '105', type: 'Delux 2', number: '105', status: 'clean' },
            { id: '106', type: 'Delux 2', number: '106', status: 'clean' },
            { id: '201', type: 'Standard', number: '201', status: 'clean' },
            { id: '202', type: 'Standard', number: '202', status: 'clean' },
        ];

        let bookings = JSON.parse(localStorage.getItem('hotelBookings')) || [];
        // Ensure rooms are blocked based on existing bookings on load
        bookings.forEach(booking => {
            const room = rooms.find(r => r.number === booking.room);
            if (room) {
                const checkOutDate = new Date(booking.checkOut);
                const today = new Date();
                today.setHours(0, 0, 0, 0); // Normalize today's date
                if (checkOutDate >= today) { // Room is blocked if checkout is today or in the future
                    room.status = 'blocked';
                }
            }
        });

        let currentUserRole = null; // Will store 'admin' or 'housekeeper'

        // --- DOM Elements ---
        const loginPage = document.getElementById('loginPage');
        const appContainer = document.getElementById('appContainer');
        const loginForm = document.getElementById('loginForm');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginError = document.getElementById('loginError');
        const logoutBtn = document.getElementById('logoutBtn');

        const navLinks = document.querySelectorAll('aside nav ul li a');
        const sections = document.querySelectorAll('main .section');
        const bookingModal = document.getElementById('bookingModal');
        const bookingForm = document.getElementById('bookingForm');
        const bookingsTableBody = document.querySelector('#bookingsTable tbody');
        const roomSelect = document.getElementById('room');
        const checkInInput = document.getElementById('checkIn');
        const checkOutInput = document.getElementById('checkOut');
        const nightsInput = document.getElementById('nights');
        const amtPerNightInput = document.getElementById('amtPerNight');
        const totalDueInput = document.getElementById('totalDue');
        const amountPaidInput = document.getElementById('amountPaid');
        const balanceInput = document.getElementById('balance');
        const bookingSearchInput = document.getElementById('bookingSearch');
        const reportDateInput = document.getElementById('reportDate');
        const housekeepingRoomGrid = document.getElementById('housekeepingRoomGrid');
        const messageBox = document.getElementById('messageBox');
        const messageBoxTitle = document.getElementById('messageBoxTitle');
        const messageBoxContent = document.getElementById('messageBoxContent');


        // --- Utility Functions ---

        // Function to show a custom message box
        function showMessageBox(title, message) {
            messageBoxTitle.textContent = title;
            messageBoxContent.textContent = message;
            messageBox.style.display = 'block';
        }

        // Function to close the custom message box
        function closeMessageBox() {
            messageBox.style.display = 'none';
        }

        // Saves bookings to localStorage
        function saveBookings() {
            localStorage.setItem('hotelBookings', JSON.stringify(bookings));
        }

        // Calculates nights between two dates
        function calculateNights() {
            const checkInDate = new Date(checkInInput.value);
            const checkOutDate = new Date(checkOutInput.value);

            if (checkInDate && checkOutDate && checkOutDate > checkInDate) {
                const diffTime = Math.abs(checkOutDate - checkInDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                nightsInput.value = diffDays;
            } else {
                nightsInput.value = 0;
            }
            calculateTotalDue();
        }

        // Calculates total due and balance
        function calculateTotalDue() {
            const nights = parseFloat(nightsInput.value) || 0;
            const amtPerNight = parseFloat(amtPerNightInput.value) || 0;
            const amountPaid = parseFloat(amountPaidInput.value) || 0;

            const totalDue = nights * amtPerNight;
            totalDueInput.value = totalDue.toFixed(2);
            balanceInput.value = (totalDue - amountPaid).toFixed(2);

            // Update payment status based on balance
            const paymentStatusSelect = document.getElementById('paymentStatus');
            if (balanceInput.value <= 0) {
                paymentStatusSelect.value = 'Paid';
            } else if (amountPaid > 0 && balanceInput.value > 0) {
                paymentStatusSelect.value = 'Partially Paid';
            } else {
                paymentStatusSelect.value = 'Pending';
            }
        }

        // Populates the room dropdown in the booking modal
        function populateRoomDropdown(selectedRoomNumber = null) {
            roomSelect.innerHTML = '<option value="">Select a Room</option>';
            // Filter for 'clean' rooms, but include the currently selected room if editing
            const availableRooms = rooms.filter(room => room.status === 'clean' || room.number === selectedRoomNumber);

            // Group rooms by type
            const roomTypes = {};
            availableRooms.forEach(room => {
                if (!roomTypes[room.type]) {
                    roomTypes[room.type] = [];
                }
                roomTypes[room.type].push(room);
            });

            for (const type in roomTypes) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = type;
                roomTypes[type].forEach(room => {
                    const option = document.createElement('option');
                    option.value = room.number;
                    option.textContent = `Room ${room.number}`;
                    if (selectedRoomNumber && room.number === selectedRoomNumber) {
                        option.selected = true;
                    }
                    optgroup.appendChild(option);
                });
                roomSelect.appendChild(optgroup);
            }
        }

        // --- Authentication Functions ---

        // Simulated user credentials
        const users = {
            'admin': 'adminpass',
            'housekeeper': 'housepass'
        };

        // Handles login form submission
        loginForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const username = usernameInput.value;
            const password = passwordInput.value;

            if (users[username] === password) {
                currentUserRole = username;
                loginError.style.display = 'none';
                loginPage.style.display = 'none';
                appContainer.style.display = 'flex'; // Show main app
                initializeApp(currentUserRole); // Initialize app based on role
            } else {
                loginError.style.display = 'block';
            }
        });

        // Handles logout
        logoutBtn.addEventListener('click', function() {
            currentUserRole = null;
            appContainer.style.display = 'none'; // Hide main app
            loginPage.style.display = 'flex'; // Show login page
            usernameInput.value = '';
            passwordInput.value = '';
            loginError.style.display = 'none';
            // Optionally clear local storage if desired for full logout
            // localStorage.removeItem('hotelBookings');
            // rooms.forEach(room => room.status = 'clean'); // Reset room statuses if needed
            // bookings = []; // Clear bookings array
        });

        // --- Navigation and Role Management ---

        // Handles navigation clicks
        function handleNavigation(event) {
            event.preventDefault();
            const targetId = event.target.id.replace('nav-', '');

            // Only allow navigation if the user has access to that section
            if (!hasAccess(targetId)) {
                showMessageBox('Access Denied', `You do not have permission to access the ${event.target.textContent} section.`);
                return;
            }

            navLinks.forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');

            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(targetId).classList.add('active');

            // Re-render sections when active
            if (targetId === 'booking-management') {
                renderBookings();
            } else if (targetId === 'housekeeping') {
                renderHousekeepingRooms();
            } else if (targetId === 'reports') {
                // Optionally generate report for today's date on initial load
                reportDateInput.valueAsDate = new Date();
                generateReport();
            }
        }

        // Checks if the current user role has access to a given section
        function hasAccess(sectionId) {
            if (currentUserRole === 'admin') {
                return true; // Admin has access to all sections
            } else if (currentUserRole === 'housekeeper') {
                return sectionId === 'housekeeping'; // Housekeeper only has access to housekeeping
            }
            return false; // No user logged in or unknown role
        }

        // Applies access restrictions based on user role
        function applyRoleAccess(role) {
            // Hide/show navigation links
            document.getElementById('nav-booking').parentElement.style.display = (role === 'admin') ? 'block' : 'none';
            document.getElementById('nav-reports').parentElement.style.display = (role === 'admin') ? 'block' : 'none';
            document.getElementById('nav-housekeeping').parentElement.style.display = 'block'; // Always visible

            // Disable/enable booking management buttons for housekeepers
            const addBookingBtn = document.querySelector('.btn-add-booking');
            const searchInput = document.getElementById('bookingSearch');
            const searchBtn = document.querySelector('.search-container .btn-primary');

            if (role === 'housekeeper') {
                addBookingBtn.style.display = 'none';
                searchInput.disabled = true;
                searchBtn.disabled = true;
            } else {
                addBookingBtn.style.display = 'block';
                searchInput.disabled = false;
                searchBtn.disabled = false;
            }

            // Disable/enable reports section elements for housekeepers
            const reportDateInput = document.getElementById('reportDate');
            const generateReportBtn = document.querySelector('.reports-controls .btn-primary');
            const reportCards = document.querySelectorAll('.report-card');

            if (role === 'housekeeper') {
                reportDateInput.disabled = true;
                generateReportBtn.disabled = true;
                reportCards.forEach(card => card.style.opacity = '0.5'); // Visually indicate disabled
            } else {
                reportDateInput.disabled = false;
                generateReportBtn.disabled = false;
                reportCards.forEach(card => card.style.opacity = '1');
            }

            // Disable/enable table action buttons based on role
            const allEditButtons = document.querySelectorAll('#bookingsTable .btn-info');
            const allDeleteButtons = document.querySelectorAll('#bookingsTable .btn-danger');
            const allCheckoutButtons = document.querySelectorAll('#bookingsTable .btn-success');

            allEditButtons.forEach(btn => btn.disabled = (role !== 'admin'));
            allDeleteButtons.forEach(btn => btn.disabled = (role !== 'admin'));
            allCheckoutButtons.forEach(btn => btn.disabled = (role !== 'admin'));

            // Re-evaluate housekeeping room dropdowns as their disabled state depends on currentUserRole
            renderHousekeepingRooms(); // This will re-render and apply the correct disabled state
        }


        // --- Booking Management Functions ---

        // Renders the bookings table
        function renderBookings(filteredBookings = bookings) {
            bookingsTableBody.innerHTML = ''; // Clear existing rows

            if (filteredBookings.length === 0) {
                bookingsTableBody.innerHTML = '<tr><td colspan="16" style="text-align: center; padding: 20px;">No bookings found.</td></tr>';
                return;
            }

            filteredBookings.forEach(booking => {
                const row = bookingsTableBody.insertRow();
                row.dataset.id = booking.id; // Store booking ID for easy access

                row.innerHTML = `
                    <td>${booking.name}</td>
                    <td>${booking.room}</td>
                    <td>${booking.checkIn}</td>
                    <td>${booking.checkOut}</td>
                    <td>${booking.nights}</td>
                    <td>${parseFloat(booking.amtPerNight).toFixed(2)}</td>
                    <td>${parseFloat(booking.totalDue).toFixed(2)}</td>
                    <td>${parseFloat(booking.amountPaid).toFixed(2)}</td>
                    <td>${parseFloat(booking.balance).toFixed(2)}</td>
                    <td>${booking.paymentStatus}</td>
                    <td>${booking.people}</td>
                    <td>${booking.nationality || ''}</td>
                    <td>${booking.address || ''}</td>
                    <td>${booking.phoneNo || ''}</td>
                    <td>${booking.nationalIdNo || ''}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-info" onclick="editBooking('${booking.id}')" ${currentUserRole !== 'admin' ? 'disabled' : ''}>Edit</button>
                            <button class="btn btn-danger" onclick="deleteBooking('${booking.id}')" ${currentUserRole !== 'admin' ? 'disabled' : ''}>Delete</button>
                            ${new Date(booking.checkOut) <= new Date() && rooms.find(r => r.number === booking.room)?.status !== 'dirty' ?
                                `<button class="btn btn-success" onclick="checkoutBooking('${booking.id}')" ${currentUserRole !== 'admin' ? 'disabled' : ''}>Check-out</button>` :
                                ''
                            }
                        </div>
                    </td>
                `;
            });
        }

        // Filters bookings based on search input
        function filterBookings() {
            if (currentUserRole !== 'admin') return; // Only admin can search bookings

            const searchTerm = bookingSearchInput.value.toLowerCase();
            const filtered = bookings.filter(booking =>
                booking.name.toLowerCase().includes(searchTerm) ||
                booking.room.toLowerCase().includes(searchTerm) ||
                booking.nationalIdNo.toLowerCase().includes(searchTerm) ||
                booking.phoneNo.toLowerCase().includes(searchTerm)
            );
            renderBookings(filtered);
        }

        // Opens the booking modal for adding a new booking
        function openBookingModal() {
            if (currentUserRole !== 'admin') {
                showMessageBox('Access Denied', 'You do not have permission to add new bookings.');
                return;
            }
            document.getElementById('modalTitle').textContent = 'Add New Booking';
            bookingForm.reset(); // Clear previous form data
            document.getElementById('bookingId').value = ''; // Clear hidden ID
            populateRoomDropdown(); // Populate with all clean rooms
            nightsInput.value = 0;
            totalDueInput.value = 0;
            balanceInput.value = 0;
            amountPaidInput.value = 0;
            bookingModal.style.display = 'flex';
        }

        // Closes the booking modal
        function closeBookingModal() {
            bookingModal.style.display = 'none';
        }

        // Handles form submission for adding/editing bookings
        bookingForm.addEventListener('submit', function(event) {
            event.preventDefault();

            if (currentUserRole !== 'admin') {
                showMessageBox('Access Denied', 'You do not have permission to save bookings.');
                closeBookingModal();
                return;
            }

            const id = document.getElementById('bookingId').value || crypto.randomUUID(); // Generate unique ID
            const name = document.getElementById('name').value;
            const roomNumber = document.getElementById('room').value;
            const checkIn = document.getElementById('checkIn').value;
            const checkOut = document.getElementById('checkOut').value;
            const nights = parseFloat(nightsInput.value);
            const amtPerNight = parseFloat(amtPerNightInput.value);
            const totalDue = parseFloat(totalDueInput.value);
            const amountPaid = parseFloat(amountPaidInput.value);
            const balance = parseFloat(balanceInput.value);
            const paymentStatus = document.getElementById('paymentStatus').value;
            const people = parseInt(document.getElementById('people').value);
            const nationality = document.getElementById('nationality').value;
            const address = document.getElementById('address').value;
            const phoneNo = document.getElementById('phoneNo').value;
            const nationalIdNo = document.getElementById('nationalIdNo').value;

            const newBooking = {
                id, name, room: roomNumber, checkIn, checkOut, nights, amtPerNight,
                totalDue, amountPaid, balance, paymentStatus, people, nationality,
                address, phoneNo, nationalIdNo
            };

            const existingBookingIndex = bookings.findIndex(b => b.id === id);

            if (existingBookingIndex > -1) {
                // Update existing booking
                const oldRoomNumber = bookings[existingBookingIndex].room;
                if (oldRoomNumber !== roomNumber) {
                    // If room changed, unblock old room and block new one
                    const oldRoom = rooms.find(r => r.number === oldRoomNumber);
                    if (oldRoom) oldRoom.status = 'clean'; // Mark old room as clean (or unblocked)
                    const newRoom = rooms.find(r => r.number === roomNumber);
                    if (newRoom) newRoom.status = 'blocked'; // Block new room
                }
                bookings[existingBookingIndex] = newBooking;
                showMessageBox('Success', 'Booking updated successfully!');
            } else {
                // Add new booking
                const room = rooms.find(r => r.number === roomNumber);
                if (room) {
                    room.status = 'blocked'; // Block the room
                }
                bookings.push(newBooking);
                showMessageBox('Success', 'New booking added successfully!');
            }

            saveBookings();
            renderBookings();
            closeBookingModal();
            renderHousekeepingRooms(); // Update housekeeping view
        });

        // Populates the modal with booking data for editing
        function editBooking(id) {
            if (currentUserRole !== 'admin') {
                showMessageBox('Access Denied', 'You do not have permission to edit bookings.');
                return;
            }
            const booking = bookings.find(b => b.id === id);
            if (!booking) return;

            document.getElementById('modalTitle').textContent = 'Edit Booking';
            document.getElementById('bookingId').value = booking.id;
            document.getElementById('name').value = booking.name;
            populateRoomDropdown(booking.room); // Pass current room to keep it selected even if blocked
            document.getElementById('checkIn').value = booking.checkIn;
            document.getElementById('checkOut').value = booking.checkOut;
            nightsInput.value = booking.nights;
            amtPerNightInput.value = booking.amtPerNight;
            totalDueInput.value = booking.totalDue;
            amountPaidInput.value = booking.amountPaid;
            balanceInput.value = booking.balance;
            document.getElementById('paymentStatus').value = booking.paymentStatus;
            document.getElementById('people').value = booking.people;
            document.getElementById('nationality').value = booking.nationality;
            document.getElementById('address').value = booking.address;
            document.getElementById('phoneNo').value = booking.phoneNo;
            document.getElementById('nationalIdNo').value = booking.nationalIdNo;

            bookingModal.style.display = 'flex';
        }

        // Deletes a booking
        function deleteBooking(id) {
            if (currentUserRole !== 'admin') {
                showMessageBox('Access Denied', 'You do not have permission to delete bookings.');
                return;
            }
            const confirmed = confirm('Are you sure you want to delete this booking?');
            if (confirmed) {
                const bookingToDelete = bookings.find(b => b.id === id);
                if (bookingToDelete) {
                    // Unblock the room if it was blocked by this booking
                    const room = rooms.find(r => r.number === bookingToDelete.room);
                    if (room && room.status === 'blocked') {
                        // Check if other bookings still block this room
                        const otherBookingsForRoom = bookings.filter(b =>
                            b.room === room.number && b.id !== id && new Date(b.checkOut) >= new Date()
                        );
                        if (otherBookingsForRoom.length === 0) {
                            room.status = 'clean'; // Only unblock if no other active bookings
                        }
                    }
                }
                bookings = bookings.filter(b => b.id !== id);
                saveBookings();
                renderBookings();
                renderHousekeepingRooms(); // Update housekeeping view
                showMessageBox('Success', 'Booking deleted successfully!');
            }
        }

        // Handles room checkout
        function checkoutBooking(id) {
            if (currentUserRole !== 'admin') {
                showMessageBox('Access Denied', 'You do not have permission to perform check-outs.');
                return;
            }
            const booking = bookings.find(b => b.id === id);
            if (booking) {
                const room = rooms.find(r => r.number === booking.room);
                if (room) {
                    const now = new Date();
                    now.setHours(0,0,0,0);
                    const checkOutDate = new Date(booking.checkOut);
                    checkOutDate.setHours(0,0,0,0);

                    // Mark room as dirty regardless if other bookings exist, as per requirement
                    room.status = 'dirty';

                    // If this was the last active booking for the room, unblock it
                    const activeBookingsForRoom = bookings.filter(b =>
                        b.room === room.number && b.id !== id && new Date(b.checkOut) >= now && new Date(b.checkIn) <= now
                    );
                    if (activeBookingsForRoom.length === 0) {
                        // If no other active bookings, the room is now dirty (not blocked)
                        // Its status is already set to 'dirty' above.
                    }
                }
                saveBookings();
                renderBookings(); // Re-render to update checkout button visibility
                renderHousekeepingRooms(); // Update housekeeping view
                showMessageBox('Success', `Room ${booking.room} marked as dirty upon checkout.`);
            }
        }

        // Event listeners for date and amount changes to calculate nights, total due, balance
        checkInInput.addEventListener('change', calculateNights);
        checkOutInput.addEventListener('change', calculateNights);
        amtPerNightInput.addEventListener('input', calculateTotalDue);
        amountPaidInput.addEventListener('input', calculateTotalDue);


        // --- Reports Functions ---

        // Generates and displays report data
        function generateReport() {
            if (currentUserRole !== 'admin') {
                // No message box needed here, as elements are disabled
                return;
            }
            const selectedDateStr = reportDateInput.value;
            if (!selectedDateStr) {
                showMessageBox('Error', 'Please select a date for the report.');
                return;
            }

            const selectedDate = new Date(selectedDateStr);
            selectedDate.setHours(0, 0, 0, 0); // Normalize to start of day

            let totalAmount = 0;
            let totalBalance = 0;
            let guestsCheckedIn = 0;
            const roomTypeCounts = {}; // To count most booked room type

            bookings.forEach(booking => {
                const checkIn = new Date(booking.checkIn);
                checkIn.setHours(0, 0, 0, 0);
                const checkOut = new Date(booking.checkOut);
                checkOut.setHours(0, 0, 0, 0);

                // Check if the booking spans the selected date
                if (selectedDate >= checkIn && selectedDate < checkOut) {
                    totalAmount += booking.totalDue;
                    totalBalance += booking.balance;
                    guestsCheckedIn += booking.people;

                    const room = rooms.find(r => r.number === booking.room);
                    if (room) {
                        roomTypeCounts[room.type] = (roomTypeCounts[room.type] || 0) + 1;
                    }
                }
            });

            let mostBookedRoomType = 'N/A';
            let maxCount = 0;
            for (const type in roomTypeCounts) {
                if (roomTypeCounts[type] > maxCount) {
                    maxCount = roomTypeCounts[type];
                    mostBookedRoomType = type;
                }
            }

            document.getElementById('totalAmountReport').textContent = totalAmount.toFixed(2);
            document.getElementById('totalBalanceReport').textContent = totalBalance.toFixed(2);
            document.getElementById('mostBookedRoomType').textContent = mostBookedRoomType;
            document.getElementById('guestsCheckedIn').textContent = guestsCheckedIn;
        }


        // --- Housekeeping Functions ---

        // Renders the room cards for housekeeping
        function renderHousekeepingRooms() {
            housekeepingRoomGrid.innerHTML = ''; // Clear existing cards

            // Group rooms by type for better organization
            const roomTypes = {};
            rooms.forEach(room => {
                if (!roomTypes[room.type]) {
                    roomTypes[room.type] = [];
                }
                roomTypes[room.type].push(room);
            });

            for (const type in roomTypes) {
                const typeHeader = document.createElement('h3');
                typeHeader.textContent = `${type} Rooms`;
                typeHeader.style.gridColumn = '1 / -1'; // Span full width
                typeHeader.style.marginTop = '20px';
                typeHeader.style.marginBottom = '10px';
                typeHeader.style.color = '#2c3e50';
                typeHeader.style.borderBottom = '1px solid #ccc';
                typeHeader.style.paddingBottom = '5px';
                housekeepingRoomGrid.appendChild(typeHeader);

                roomTypes[type].sort((a, b) => parseInt(a.number) - parseInt(b.number)).forEach(room => {
                    const card = document.createElement('div');
                    card.classList.add('room-card');
                    card.innerHTML = `
                        <h4>Room ${room.number}</h4>
                        <p>Type: ${room.type}</p>
                        <p class="status status-${room.status}">${room.status.replace('-', ' ').toUpperCase()}</p>
                        <select onchange="updateRoomStatus('${room.id}', this.value)" ${currentUserRole === 'admin' || currentUserRole === 'housekeeper' ? '' : 'disabled'}>
                            <option value="clean" ${room.status === 'clean' ? 'selected' : ''}>Clean</option>
                            <option value="dirty" ${room.status === 'dirty' ? 'selected' : ''}>Dirty</option>
                            <option value="under-maintenance" ${room.status === 'under-maintenance' ? 'selected' : ''}>Under Maintenance</option>
                            ${room.status === 'blocked' ? `<option value="blocked" selected disabled>Blocked (Reserved)</option>` : ''}
                        </select>
                    `;
                    housekeepingRoomGrid.appendChild(card);

                    // Disable dropdown if room is blocked or user is not admin/housekeeper
                    const selectElement = card.querySelector('select');
                    const isRoomCurrentlyBlocked = bookings.some(b =>
                        b.room === room.number &&
                        new Date(b.checkIn) <= new Date() &&
                        new Date(b.checkOut) >= new Date()
                    );
                    if (isRoomCurrentlyBlocked || (currentUserRole !== 'admin' && currentUserRole !== 'housekeeper')) {
                        selectElement.disabled = true;
                    } else {
                        selectElement.disabled = false;
                    }
                });
            }
        }

        // Updates room status
        function updateRoomStatus(roomId, newStatus) {
            if (currentUserRole !== 'admin' && currentUserRole !== 'housekeeper') {
                showMessageBox('Access Denied', 'You do not have permission to update room status.');
                renderHousekeepingRooms(); // Revert dropdown
                return;
            }

            const room = rooms.find(r => r.id === roomId);
            if (room) {
                // Check if the room is currently blocked by an active reservation
                const isRoomCurrentlyBlocked = bookings.some(b =>
                    b.room === room.number &&
                    new Date(b.checkIn) <= new Date() &&
                    new Date(b.checkOut) >= new Date()
                );

                // If room is blocked and new status is not 'blocked', prevent change
                if (isRoomCurrentlyBlocked && newStatus !== 'blocked') {
                    showMessageBox('Warning', `Room ${room.number} is currently reserved. Status cannot be changed manually.`);
                    renderHousekeepingRooms(); // Revert the dropdown selection
                    return;
                }

                room.status = newStatus;
                saveBookings(); // Re-save bookings to persist room status (since rooms are part of the overall state)
                renderHousekeepingRooms(); // Re-render to update UI
                showMessageBox('Success', `Room ${room.number} status updated to ${newStatus.replace('-', ' ')}.`);
            }
        }


        // --- Initial App Initialization ---
        function initializeApp(role) {
            // Hide all sections initially to prevent flicker
            sections.forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none'; // Ensure they are hidden
            });

            // Set default date for reports
            reportDateInput.valueAsDate = new Date();

            // Apply role-based access (this now only handles nav visibility and control disabling)
            applyRoleAccess(role);

            // Add event listeners for navigation (only once)
            navLinks.forEach(link => {
                link.removeEventListener('click', handleNavigation); // Prevent duplicate listeners
                link.addEventListener('click', handleNavigation);
            });

            // Determine the default section to activate
            let defaultSectionId = 'booking-management';
            if (role === 'housekeeper') {
                defaultSectionId = 'housekeeping';
            }

            // Programmatically click the default navigation link to activate the section
            // This will ensure the correct section is displayed and others are hidden,
            // and also trigger the necessary rendering functions (renderBookings, renderHousekeepingRooms, generateReport)
            // via the handleNavigation function.
            // Using a setTimeout of 0 to ensure this click happens after the current call stack clears,
            // which can sometimes help with rendering consistency.
            setTimeout(() => {
                document.getElementById(`nav-${defaultSectionId}`).click();
            }, 0);
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Initially show login page
            loginPage.style.display = 'flex';
            appContainer.style.display = 'none';

            // Add event listener for nights, total due, balance calculation on modal open
            bookingModal.addEventListener('input', (event) => {
                if (event.target.id === 'checkIn' || event.target.id === 'checkOut') {
                    calculateNights();
                } else if (event.target.id === 'amtPerNight' || event.target.id === 'amountPaid') {
                    calculateTotalDue();
                }
            });

            // Add event listener for search input
            bookingSearchInput.addEventListener('keyup', filterBookings);
        });

    </script>
</body>
</html>
